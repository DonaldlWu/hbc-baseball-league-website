# Navigation 組件實作文檔

## 概述

建立全局 Navigation 組件，讓用戶可以方便地在各頁面間導航。

## 導航項目

| 標籤 | 路徑 | 說明 |
|------|------|------|
| 首頁 | `/` | 首頁 |
| 球團 | `/teams` | 球團列表 |
| 賽程 | `/#schedule` | 首頁賽程區塊（錨點） |
| 排行榜 | `/#standings` | 首頁排名區塊（錨點） |

## 設計規格

### 響應式佈局

**桌面版 (md+)**
```
+------------------------------------------------------------------+
| [新和週六野球聯盟]                    [首頁] [球團] [賽程] [排行榜]    |
+------------------------------------------------------------------+
```

**手機版**
```
+------------------------------------------------------------------+
| [新和週六野球聯盟]                                         [☰]       |
+------------------------------------------------------------------+
| 首頁                                                              |
| 球團                                                              |
| 賽程                                                              |
| 排行榜                                                            |
+------------------------------------------------------------------+
```

### 樣式

- 使用 `sticky top-0` 固定在頂部
- 白色背景 + 陰影 (`bg-white shadow-md`)
- 當前頁面高亮：`text-primary-600 bg-primary-50 font-semibold`
- 手機選單：滑動展開動畫 (`transition-all duration-300`)

## 組件 API

### Props

```typescript
interface NavItem {
  label: string;
  href: string;
}

interface NavigationProps {
  siteTitle?: string;  // 預設: "新和週六野球聯盟"
  items?: NavItem[];   // 預設: 首頁、球團、賽程、排行榜
}
```

### 使用範例

```tsx
// 使用預設設定
<Navigation />

// 自訂標題
<Navigation siteTitle="我的棒球網站" />

// 自訂導航項目
<Navigation
  items={[
    { label: "首頁", href: "/" },
    { label: "關於", href: "/about" },
  ]}
/>
```

## 檔案變更

| 檔案 | 動作 | 說明 |
|------|------|------|
| `src/components/Navigation.tsx` | 新增 | Navigation 組件 |
| `src/components/__tests__/Navigation.test.tsx` | 新增 | 單元測試 (12 tests) |
| `app/layout.tsx` | 修改 | 加入 Navigation、更新 metadata、lang="zh-TW" |
| `app/page.tsx` | 修改 | 移除 header、加入 section IDs |
| `app/globals.css` | 修改 | 加入 `scroll-behavior: smooth` |

## 功能特點

1. **響應式設計**
   - 桌面版：水平導航列
   - 手機版：漢堡選單 + 下拉展開

2. **當前頁面高亮**
   - 使用 `usePathname()` 偵測當前路徑
   - 自動高亮對應的導航項目

3. **平滑滾動**
   - 點擊錨點連結 (`/#schedule`, `/#standings`) 平滑滾動
   - 透過 CSS `scroll-behavior: smooth` 實現

4. **無障礙支援**
   - `aria-label="主要導航"` 標示導航區域
   - `aria-expanded` 標示選單開關狀態
   - 按鈕有清楚的 `aria-label`

## 測試覆蓋

```
✓ 應該顯示網站標題
✓ 應該顯示所有導航項目
✓ 應該有正確的導航連結
✓ 當前頁面應該高亮顯示
✓ 首頁連結在首頁時應該高亮
✓ 應該有漢堡選單按鈕（手機版）
✓ 點擊漢堡選單應該展開/收起手機選單
✓ 手機選單中點擊連結應該關閉選單
✓ 應該有正確的 aria 屬性
✓ 應該可以自訂網站標題
✓ 應該可以自訂導航項目
✓ 應該固定在頂部
```

執行測試：
```bash
npm run test -- Navigation
```

## 手動測試步驟

1. 啟動開發伺服器：`npm run dev`
2. 檢查首頁導航列顯示正確
3. 點擊「球團」→ 導航至 `/teams`，「球團」連結高亮
4. 點擊「賽程」→ 滾動至首頁賽程區塊
5. 點擊「排行榜」→ 滾動至首頁排名區塊
6. 縮小瀏覽器視窗至手機尺寸
7. 點擊漢堡選單 → 選單展開
8. 點擊連結 → 選單自動關閉

## 實作日期

2026-01-24
